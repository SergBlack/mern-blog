{"version":3,"sources":["components/assets/socialLinksSprite.svg","components/FeaturedPosts/FeaturedPosts.module.css","components/PostsList/PostsList.module.css","components/Preloader/Preloader.module.css","components/assets/preloader.svg","components/MarkdownBtnsPanel/MarkdownBtnsPanel.module.css","components/Copyright/Copyright.module.css","components/PostCard/PostCard.module.css","components/assets/navbarIcons.svg","redux/types.js","redux/actions.js","utils/arrayBufferToBase64.js","components/MainPost.js","components/PostCard/PostCard.jsx","components/FeaturedPosts/FeaturedPosts.jsx","components/PostsList/PostsList.jsx","components/IconButton/IconButton.jsx","components/Sidebar/Sidebar.jsx","components/Preloader/Preloader.jsx","pages/MainPage.js","hooks/http.hook.js","hooks/useStateWithCallback.js","context/AuthContext.js","components/MarkdownBtnsPanel/MarkdownBtnsPanel.jsx","pages/CreatePage/CreatePage.jsx","components/LinkCard/LinkCard.jsx","pages/DetailPage.js","pages/AuthPage.js","hooks/message.hook.js","components/LinksList/LinksList.jsx","pages/LinksPage.js","pages/AboutPage.js","pages/AccountPage.js","utils/markdown.js","components/PostsAsideBarItem/PostsAsideBarItem.jsx","components/PostsAsideBar/PostsAsideBar.jsx","pages/PostPage/PostPage.jsx","components/Navbar/Navbar.jsx","components/Copyright/Copyright.jsx","components/Footer/Footer.jsx","App.js","hooks/auth.hook.js","routes.js","serviceWorker.js","redux/postsReducer.js","redux/appReducer.js","redux/store.js","index.js","components/Sidebar/Sidebar.module.css","components/Navbar/Navbar.module.css","components/IconButton/IconButton.module.css","pages/PostPage/PostPage.module.css","components/Footer/Footer.module.css","pages/CreatePage/CreatePage.module.css","components/PostsAsideBarItem/PostsAsideBarItem.module.css","components/PostsAsideBar/PostsAsideBar.module.css"],"names":["module","exports","acts","getConfig","token","headers","fetchPosts","dispatch","type","axios","get","then","response","payload","data","catch","err","console","log","arrayBufferToBase64","buffer","binary","slice","call","Uint8Array","forEach","b","String","fromCharCode","window","btoa","useStyles","makeStyles","theme","mainPost","position","backgroundColor","palette","grey","color","common","white","marginBottom","spacing","backgroundSize","backgroundRepeat","backgroundPosition","height","overlay","top","bottom","right","left","mainPostContent","padding","breakpoints","up","paddingRight","cardDescription","display","alignItems","margin","MainPost","classes","history","useHistory","Paper","className","style","backgroundImage","image","Grid","container","Typography","component","variant","gutterBottom","title","description","Link","href","Button","onClick","e","id","preventDefault","push","openPost","_id","PostCard","date","cn","styles","postCard","postCardSmall","postCardLarge","cardActionArea","card","cardTitle","cardTitleSmall","cardTitleLarge","cardDataSmall","cardDataLarge","Date","toLocaleDateString","cardMedia","cardImage","src","alt","cardDescriptionSmall","cardDescriptionLarge","FeaturedPosts","posts","map","post","key","PostsList","IconButton","xlinkHref","width","cx","link","linkBlue","svgContainer","defaultProps","sidebarInfo","Sidebar","socialLinksSprite","require","sidebarAbout","sidebarTitle","sidebarDescription","sidebarContacts","sidebarSocialLinks","Preloader","preloaderContainer","preloader","mainGrid","marginTop","progressBar","section","postsListContainer","paddingTop","postsListWrapper","flexWrap","justifyContent","sidebarWrapper","marginLeft","postsList","connect","state","postsStore","loading","app","loadingPosts","fetchPostsAction","useEffect","length","justify","Divider","useHttp","useState","setLoading","error","setError","request","useCallback","url","a","method","body","JSON","stringify","fetch","json","ok","Error","message","clearError","useStateWithCallbackLazy","initialValue","callbackRef","useRef","value","setValue","current","newValue","callback","noop","AuthContext","createContext","userId","login","logout","isAuthenticated","MarkdownBtnsPanel","btnPanel","currentPost","addPost","afterSuccess","formData","addPostAction","updatePost","put","updatePostAction","useParams","useContext","textAreaRef","setLink","content","technology","setPost","selectionStart","setSelectionStart","selectionEnd","setSelectionEnd","addLink","event","from","Authorization","createFormContainer","encType","placeholder","onChange","target","name","htmlFor","postDescriptionTextarea","cols","rows","maxLength","elem","focus","pos","setSelectionRange","postContentTextarea","ref","files","maxHeight","FormData","append","LinkCard","to","rel","clicks","DetailPage","linkId","getLink","fetched","paper","flexDirection","avatar","main","form","submit","AuthPage","auth","text","M","toast","html","email","password","setForm","changeHandler","loginHandler","Container","maxWidth","CssBaseline","Avatar","noValidate","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","disabled","LinksList","links","i","LinksPage","setLinks","fetchLinks","AboutPage","AccountPage","CodeBlock","language","coy","PostsAsideBarItem","postItem","postItemTitle","postItemData","postsContainer","postsContainerTitle","loadingPost","fetchPost","fetchPostAction","deletePost","delete","deletePostAction","postPage","currentPostContainer","currentPostTitle","currentPostData","confirm","removePost","source","renderers","code","Navbar","iconSprite","toolbar","toolbarTitle","toolbarCode","navBar","navBarItem","Copyright","copyright","Footer","footer","socialLinks","getFullYear","grid","App","setToken","ready","setReady","setUserId","jwtToken","localStorage","setItem","removeItem","parse","getItem","useAuth","routes","path","exact","useRoutes","Provider","direction","Boolean","location","hostname","match","initialState","rootReducer","combineReducers","action","reverse","filteredPost","filter","updatedPost","updatedPosts","store","createStore","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.fceffaaa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/socialLinksSprite.9641b6d1.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FeaturedPosts_container__2n1PJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PostsList_container__pD4Hp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderContainer\":\"Preloader_preloaderContainer__24Bnr\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.d8b3f08b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnPanel\":\"MarkdownBtnsPanel_btnPanel__REDLk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"copyright\":\"Copyright_copyright__PrFNk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postCard\":\"PostCard_postCard__ka_wn\",\"postCardSmall\":\"PostCard_postCardSmall__2ksXv\",\"postCardLarge\":\"PostCard_postCardLarge__30Mr2\",\"cardActionArea\":\"PostCard_cardActionArea__9eIW2\",\"card\":\"PostCard_card__1Pxva\",\"cardTitle\":\"PostCard_cardTitle__2a0de\",\"cardTitleSmall\":\"PostCard_cardTitleSmall__jdpn9\",\"cardTitleLarge\":\"PostCard_cardTitleLarge__1JPae\",\"cardDataSmall\":\"PostCard_cardDataSmall__sE_4o\",\"cardDataLarge\":\"PostCard_cardDataLarge__yzJuB\",\"cardMedia\":\"PostCard_cardMedia__1WT80\",\"cardImage\":\"PostCard_cardImage__3f21S\",\"cardDescriptionSmall\":\"PostCard_cardDescriptionSmall__2Q0j2\",\"cardDescriptionLarge\":\"PostCard_cardDescriptionLarge__1YzfU\"};","module.exports = __webpack_public_path__ + \"static/media/navbarIcons.e2957b1c.svg\";","export const acts = {\n  START_LOADING_POSTS: 'START_LOADING_POSTS',\n  END_LOADING_POSTS: 'END_LOADING_POSTS',\n  START_LOADING_POST: 'START_LOADING_POST',\n  END_LOADING_POST: 'END_LOADING_POST',\n  FETCH_POSTS: 'FETCH_POSTS',\n  FETCH_POST: 'FETCH_POST',\n  ADD_POST: 'ADD_POST',\n  DELETE_POST: 'DELETE_POST',\n  UPDATE_POST: 'UPDATE_POST',\n};\n","import {acts} from './types';\nimport axios from 'axios';\n\nconst getConfig = (token) => ({\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'multipart/form-data',\n  },\n});\n\nexport const fetchPosts = () => {\n  return (dispatch) => {\n    dispatch({type: acts.START_LOADING_POSTS});\n    return axios.get('/api/post/all')\n        .then((response) => {\n          dispatch({type: acts.FETCH_POSTS, payload: response.data});\n          dispatch({type: acts.END_LOADING_POSTS});\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch({type: acts.END_LOADING_POSTS});\n        });\n  };\n};\n\nexport const fetchPost = (id) => {\n  return (dispatch) => {\n    dispatch({type: acts.START_LOADING_POST});\n    return axios.get(`/api/post/${id}`)\n        .then((response) => {\n          dispatch({type: acts.FETCH_POST, payload: response.data});\n          dispatch({type: acts.END_LOADING_POST});\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch({type: acts.END_LOADING_POST});\n        });\n  };\n};\n\nexport const addPost = (token, formData, afterSuccess) => {\n  return (dispatch) => {\n    dispatch({type: acts.START_LOADING_POST});\n    return axios.post(\n        '/api/post/new',\n        formData,\n        getConfig(token),\n    )\n        .then((response) => {\n          dispatch({type: acts.ADD_POST, payload: response.data});\n          afterSuccess(response.data.post._id);\n          dispatch({type: acts.END_LOADING_POST});\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch({type: acts.END_LOADING_POST});\n        });\n  };\n};\n\nexport const updatePost = (token, id, formData, afterSuccess) => {\n  return (dispatch) => {\n    dispatch({type: acts.START_LOADING_POST});\n    return axios.put(\n        `/api/post/update/${id}`,\n        formData,\n        getConfig(token),\n    )\n        .then((response) => {\n          dispatch({type: acts.UPDATE_POST, payload: response.data});\n          afterSuccess(response.data.post._id);\n          dispatch({type: acts.END_LOADING_POST});\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch({type: acts.END_LOADING_POST});\n        });\n  };\n};\n\nexport const deletePost = (token, id) => {\n  return (dispatch) => {\n    dispatch({type: acts.START_LOADING_POST});\n    return axios.delete(\n        `/api/post/${id}`,\n        getConfig(token),\n    )\n        .then((response) => {\n          dispatch({type: acts.DELETE_POST, payload: response.data});\n          dispatch({type: acts.END_LOADING_POST});\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch({type: acts.END_LOADING_POST});\n        });\n  };\n};\n","const arrayBufferToBase64 = (buffer) => {\n  let binary = '';\n  const bytes = [].slice.call(new Uint8Array(buffer));\n  bytes.forEach((b) => binary += String.fromCharCode(b));\n  return window.btoa(binary);\n};\n\nexport default arrayBufferToBase64;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport arrayBufferToBase64 from '../utils/arrayBufferToBase64';\n\nconst useStyles = makeStyles((theme) => ({\n  mainPost: {\n    position: 'relative',\n    backgroundColor: theme.palette.grey[800],\n    color: theme.palette.common.white,\n    marginBottom: theme.spacing(4),\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    height: '450px',\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'rgba(0,0,0,.3)',\n  },\n  mainPostContent: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    [theme.breakpoints.up('md')]: {\n      padding: theme.spacing(6),\n      paddingRight: 0,\n    },\n  },\n  cardDescription: {\n    display: 'flex',\n    alignItems: 'top',\n    margin: '20px 0px',\n    height: '180px',\n  },\n}));\n\nconst MainPost = ({mainPost}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const openPost = (e, id) => {\n    e.preventDefault();\n    history.push(`/post/${id}`);\n  };\n\n  return (\n    <Paper\n      className={classes.mainPost}\n      // eslint-disable-next-line max-len\n      style={{backgroundImage: `url(data:image/jpeg;base64,${arrayBufferToBase64(mainPost.image.data.data)})`}}\n    >\n      <div className={classes.overlay} />\n      <Grid container>\n        <Grid>\n          <div className={classes.mainPostContent}>\n            <Typography\n              component=\"h1\"\n              variant=\"h3\"\n              color=\"inherit\"\n              gutterBottom\n            >\n              {mainPost.title}\n            </Typography>\n            <Typography\n              variant=\"h5\"\n              color=\"inherit\"\n              className={classes.cardDescription}\n            >\n              {mainPost.description}\n            </Typography>\n            <Link variant=\"subtitle1\" href=\"\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={(e) => openPost(e, mainPost._id)}\n              >\n                Открыть...\n              </Button>\n            </Link>\n          </div>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nMainPost.propTypes = {\n  mainPost: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default MainPost;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport styles from './PostCard.module.css';\nimport arrayBufferToBase64 from '../../utils/arrayBufferToBase64';\n\nconst PostCard = ({\n  id,\n  title,\n  date,\n  image,\n  description,\n  onClick,\n  type,\n}) => {\n  return (\n    <div\n      className={\n        cn(\n            styles.postCard,\n            type === 'small' ? styles.postCardSmall : styles.postCardLarge,\n        )\n      }\n    >\n      <div\n        className={styles.cardActionArea}\n        onClick={(e) => onClick(e, id)}\n      >\n        <div className={styles.card}>\n          <div\n            className={\n              cn(\n                  styles.cardTitle,\n                  type === 'small' ?\n                    styles.cardTitleSmall :\n                    styles.cardTitleLarge,\n              )\n            }\n          >\n            {title}\n          </div>\n          <div\n            className={\n              cn(\n                type === 'small' ?\n                  styles.cardDataSmall :\n                  styles.cardDataLarge,\n              )\n            }\n          >\n            {new Date(date).toLocaleDateString('ru-RU')}\n          </div>\n          <div className={styles.cardMedia}>\n            {!!image && <img\n              className={styles.cardImage}\n              src={`data:image/jpeg;base64,${arrayBufferToBase64(image)}`}\n              alt=\"cardImage\"\n            />}\n          </div>\n          <p\n            className={\n              cn(\n                type === 'small' ?\n                  styles.cardDescriptionSmall :\n                  styles.cardDescriptionLarge,\n              )\n            }\n          >\n            {description}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nPostCard.propTypes = {\n  id: PropTypes.string,\n  title: PropTypes.string,\n  date: PropTypes.string,\n  image: PropTypes.object,\n  description: PropTypes.string,\n  onClick: PropTypes.func,\n  type: PropTypes.string,\n};\n\nexport default PostCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport styles from './FeaturedPosts.module.css';\nimport PostCard from '../PostCard/PostCard';\n\nconst FeaturedPosts = ({posts}) => {\n  const history = useHistory();\n\n  const openPost = (e, id) => {\n    e.preventDefault();\n    history.push(`/post/${id}`);\n  };\n\n  return (\n    <div className={styles.container}>\n      {posts && posts.map((post) => (\n        <PostCard\n          key={post._id}\n          id={post._id}\n          title={post.title}\n          date={post.date}\n          image={post.image?.data?.data}\n          description={post.description}\n          onClick={openPost}\n          type=\"large\"\n        />\n      ))}\n    </div>\n  );\n};\n\nFeaturedPosts.propTypes = {\n  posts: PropTypes.array,\n};\n\nexport default FeaturedPosts;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport styles from './PostsList.module.css';\nimport PostCard from '../PostCard/PostCard';\n\nconst PostsList = ({posts}) => {\n  const history = useHistory();\n\n  const openPost = (e, id) => {\n    e.preventDefault();\n    history.push(`/post/${id}`);\n  };\n\n  return (\n    <div className={styles.container}>\n      {posts.map((post) => (\n        <PostCard\n          key={post._id}\n          id={post._id}\n          title={post.title}\n          date={post.date}\n          image={post.image?.data?.data}\n          description={post.description}\n          onClick={openPost}\n          type=\"small\"\n        />\n      ))}\n    </div>\n  );\n};\n\nPostsList.propTypes = {\n  posts: PropTypes.array,\n};\n\nexport default PostsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './IconButton.module.css';\n\nconst IconButton = ({\n  href,\n  onClick,\n  xlinkHref,\n  color,\n  description,\n  width,\n  height,\n}) => (\n  <a\n    href={href}\n    onClick={onClick}\n    className={cx(\n        styles.link,\n        {[styles.linkBlue]: color === 'blue'},\n    )}\n  >\n    <span className={styles.svgContainer}>\n      <svg style={{width, height}}>\n        <use xlinkHref={xlinkHref} />\n      </svg>\n    </span>\n    {description && (\n      <span className={styles.description}>{description}</span>\n    )}\n  </a>\n);\n\nIconButton.propTypes = {\n  href: PropTypes.string,\n  onClick: PropTypes.func,\n  xlinkHref: PropTypes.string,\n  color: PropTypes.string,\n  description: PropTypes.string,\n  width: PropTypes.string,\n  height: PropTypes.string,\n};\n\nIconButton.defaultProps = {\n  width: '28px',\n  height: '28px',\n};\n\nexport default IconButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '../IconButton/IconButton';\nimport styles from './Sidebar.module.css';\n\nconst sidebarInfo = {\n  title: 'Кратко о блоге',\n  description:\n    'Цель создания данного блога проста - ' +\n    'создать доступный извне сайт, на котором можно будет ' +\n    'тестировать, что-то из существующих технологий, ' +\n    'пробовать внедрять фичи, а так же сохранять ' +\n    'полезную информацию в виде постов. Ну и так, для истории...',\n};\n\nconst Sidebar = () => {\n  const socialLinksSprite = require('../assets/socialLinksSprite.svg');\n\n  return (\n    <div>\n      <div className={styles.sidebarAbout}>\n        <div className={styles.sidebarTitle}>\n          {sidebarInfo.title}\n        </div>\n        <p className={styles.sidebarDescription}>\n          {sidebarInfo.description}\n        </p>\n      </div>\n      <div className={styles.sidebarContacts}>\n        Контакты в соцсетях\n      </div>\n      <div className={styles.sidebarSocialLinks}>\n        <IconButton\n          href=\"https://vk.com/id2329393\"\n          xlinkHref={`${socialLinksSprite}#icon-vk`}\n          color=\"blue\"\n          description=\"VKontakte\"\n        />\n        <IconButton\n          href=\"https://github.com/SergBlack\"\n          xlinkHref={`${socialLinksSprite}#icon-github`}\n          color=\"blue\"\n          description=\"GitHub\"\n        />\n        <IconButton\n          href=\"https://linkedin.com/in/sergey-osipchuk\"\n          xlinkHref={`${socialLinksSprite}#icon-linkedin`}\n          color=\"blue\"\n          description=\"LinkedIn\"\n        />\n      </div>\n    </div>\n  );\n};\n\nSidebar.propTypes = {\n  archives: PropTypes.array,\n  description: PropTypes.string,\n  social: PropTypes.array,\n  title: PropTypes.string,\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport styles from './Preloader.module.css';\nimport preloader from '../assets/preloader.svg';\n\nconst Preloader = () => {\n  return (\n    <div className={styles.preloaderContainer}>\n      <img src={preloader} alt=\"preloader\" />\n    </div>\n  );\n};\n\nexport default Preloader;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {fetchPosts as fetchPostsAction} from '../redux/actions';\nimport MainPost from '../components/MainPost';\nimport FeaturedPost from '../components/FeaturedPosts/FeaturedPosts';\nimport PostsList from '../components/PostsList/PostsList';\nimport Sidebar from '../components/Sidebar/Sidebar';\nimport Preloader from '../components/Preloader/Preloader';\nimport Grid from '@material-ui/core/Grid';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\n\n\nconst useStyles = makeStyles((theme) => ({\n  mainGrid: {\n    marginTop: theme.spacing(1),\n  },\n  progressBar: {\n    height: '200px',\n  },\n  section: {\n    marginTop: '24px',\n    marginBottom: '16px',\n  },\n  postsListContainer: {\n    display: 'flex',\n    paddingTop: '20px',\n  },\n  postsListWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    width: '72%',\n    margin: '-8px -8px',\n  },\n  sidebarWrapper: {\n    display: 'flex',\n    marginLeft: '30px',\n    width: '28%',\n  },\n  postsList: {\n    display: 'flex',\n  },\n}));\n\nconst MainPage = ({posts, fetchPosts, loading}) => {\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchPosts();\n  }, [fetchPosts]);\n\n  return (\n    <>\n      <main>\n        {loading || posts.length === 0 ?\n            <Grid\n              container\n              justify=\"center\"\n              alignItems=\"center\"\n              className={classes.progressBar}\n            >\n              <Preloader />\n            </Grid> : <MainPost mainPost={posts && posts[0]}/>\n        }\n        <Typography variant=\"h6\" className={classes.section}>\n          Недавние публикации\n        </Typography>\n        <Divider />\n        {loading || posts.length === 0 ?\n          <Grid\n            container\n            justify=\"center\"\n            alignItems=\"center\"\n            className={classes.progressBar}\n          >\n            <Preloader />\n          </Grid> : <FeaturedPost posts={posts.slice(1, 4)}/>\n        }\n        <Typography variant=\"h6\" className={classes.section}>\n          Ранние публикации\n        </Typography>\n        <Divider />\n        <div className={classes.postsListContainer}>\n          <div className={classes.postsListWrapper}>\n            {loading || posts.length === 0 ?\n              <div>\n                <Preloader/>\n              </div> :\n              <PostsList\n                posts={posts.slice(4)}\n                className={classes.postsList}\n              />\n            }\n          </div>\n          <div className={classes.sidebarWrapper}>\n            <Sidebar />\n          </div>\n        </div>\n      </main>\n    </>\n  );\n};\n\nMainPage.propTypes = {\n  posts: PropTypes.array,\n  fetchPosts: PropTypes.func,\n  loading: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.postsStore.posts,\n  loading: state.app.loadingPosts,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchPosts: () => dispatch(fetchPostsAction()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainPage);\n","import {useCallback, useState} from 'react';\n\nexport const useHttp = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const request = useCallback(\n      async (\n        url,\n        method = 'GET',\n        body = null,\n        headers = {},\n      ) => {\n        setLoading(true);\n        try {\n          if (body) {\n            body = JSON.stringify(body);\n            headers['Content-Type'] = 'application/json';\n          }\n\n          const response = await fetch(url, {method, body, headers});\n          const data = await response.json();\n\n          if (!response.ok) {\n            throw new Error(data.message || 'Что-то пошло не так');\n          }\n\n          setLoading(false);\n\n          return data;\n        } catch (e) {\n          setLoading(false);\n          setError(e.message);\n          throw e;\n        }\n      },\n      [],\n  );\n\n  const clearError = useCallback(() => setError(null), []);\n\n  return {loading, request, error, clearError};\n};\n","import {useState, useEffect, useRef} from 'react';\n\nconst useStateWithCallbackLazy = (initialValue) => {\n  const callbackRef = useRef(null);\n\n  const [value, setValue] = useState(initialValue);\n\n  useEffect(() => {\n    if (callbackRef.current) {\n      callbackRef.current(value);\n\n      callbackRef.current = null;\n    }\n  }, [value]);\n\n  const setValueWithCallback = (newValue, callback) => {\n    callbackRef.current = callback;\n\n    return setValue(newValue);\n  };\n\n  return [value, setValueWithCallback];\n};\n\nexport default useStateWithCallbackLazy;\n","import {createContext} from 'react';\n\nconst noop = () => {};\n\nexport const AuthContext = createContext({\n  token: null,\n  userId: null,\n  login: noop,\n  logout: noop,\n  isAuthenticated: false,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './MarkdownBtnsPanel.module.css';\n\nconst MarkdownBtnsPanel = ({onClick}) => {\n  return (\n    <div className={styles.btnPanel}>\n      <button onClick={(e) => onClick(e, '#')}>H1</button>\n      <button onClick={(e) => onClick(e, '##')}>H2</button>\n      <button onClick={(e) => onClick(e, '###')}>H3</button>\n      <button onClick={(e) => onClick(e, '####')}>H4</button>\n      <button onClick={(e) => onClick(e, '#####')}>H5</button>\n      <button onClick={(e) => onClick(e, '######')}>H6</button>\n      <button onClick={(e) => onClick(e, '-')}>List</button>\n      <button onClick={(e) => onClick(e, '>')}>Quote</button>\n      <button onClick={(e) => onClick(e, '*текст*')}><em>I</em></button>\n      <button onClick={(e) => onClick(e, '**текст**')}><b>B</b></button>\n      <button onClick={(e) => onClick(e, '~~текст~~')}><del>S</del></button>\n      <button\n        onClick={(e) => onClick(e, '\\n[название сайта](http://-url-) - описание\\n')}\n      >\n        URL\n      </button>\n      <button\n        onClick={(e) => onClick(e, '```js\\n\\n тут добавить код \\n\\n```')}\n      >\n        Code\n      </button>\n    </div>\n  );\n};\n\nMarkdownBtnsPanel.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default MarkdownBtnsPanel;\n","import React, {useContext, useState, useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {\n  addPost as addPostAction,\n  updatePost as updatePostAction,\n} from '../../redux/actions';\nimport {connect} from 'react-redux';\nimport {useHttp} from '../../hooks/http.hook';\nimport useStateWithCallbackLazy from '../../hooks/useStateWithCallback';\nimport {AuthContext} from '../../context/AuthContext';\nimport styles from './CreatePage.module.css';\nimport MarkdownBtnsPanel from\n  '../../components/MarkdownBtnsPanel/MarkdownBtnsPanel';\n\nconst CreatePage = ({addPost, updatePost, currentPost}) => {\n  const history = useHistory();\n  const {id} = useParams();\n  const {token} = useContext(AuthContext);\n  const {request} = useHttp();\n  const textAreaRef = useRef();\n  const [link, setLink] = useState('');\n  const [post, setPost] = useStateWithCallbackLazy({\n    title: '',\n    description: '',\n    content: '',\n    image: null,\n    technology: '',\n  });\n  const [selectionStart, setSelectionStart] = useState(0);\n  const [selectionEnd, setSelectionEnd] = useState(0);\n  const MAX_TITLE_LENGTH = 60;\n  const MAX_DESC_LENGTH = 120;\n  const {\n    title,\n    description,\n    content,\n    image,\n    technology,\n  } = post;\n\n  useEffect(() => {\n    if (id && currentPost._id === id) {\n      setPost(currentPost);\n    }\n  }, [currentPost, id]);\n\n  const addLink = async (event) => {\n    event.preventDefault();\n    try {\n      const data = await request(\n          '/api/link/generate',\n          'POST',\n          {from: link},\n          {Authorization: `Bearer ${token}`},\n      );\n      history.push(`/detail/${data.link._id}`);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const onFileChosen = (e) => {\n    setPost({...post, image: e.target.files[0]});\n  };\n\n  const onMarkdownBtnClick = (event, elem) => {\n    event.preventDefault();\n    const {content} = post;\n    setPost(\n        {\n          ...post,\n          // eslint-disable-next-line max-len\n          content: `${content.slice(0, selectionStart)} ${elem} ${content.slice(selectionEnd)}`,\n        },\n        () => {\n          textAreaRef.current.focus();\n          const pos = selectionStart + elem.length + 1;\n          textAreaRef.current.setSelectionRange(pos, pos);\n        },\n    );\n  };\n\n  const createPost = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('description', description);\n    formData.append('content', content);\n    formData.append('image', image);\n    formData.append('technology', technology);\n\n    addPost(\n        token,\n        formData,\n        (id) => {\n          history.push(`/post/${id}`);\n        },\n    );\n  };\n\n  const updateCurrentPost = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('description', description);\n    formData.append('content', content);\n    formData.append('image', image);\n    formData.append('technology', technology);\n\n    updatePost(\n        token,\n        id,\n        formData,\n        (id) => {\n          history.push(`/post/${id}`);\n        },\n    );\n  };\n\n  const onTextareaChange = (e) => {\n    setPost({...post, content: e.target.value});\n    setSelectionStart(textAreaRef.current.selectionStart);\n    setSelectionEnd(textAreaRef.current.selectionStart);\n  };\n\n  const onTextareaClick = () => {\n    setSelectionStart(textAreaRef.current.selectionStart);\n    setSelectionEnd(textAreaRef.current.selectionEnd);\n  };\n\n  return (\n    <div className={styles.createFormContainer}>\n      <form encType=\"multipart/form-data\">\n        <div>\n          <input\n            placeholder=\"Вставьте ссылку\"\n            id=\"link\"\n            type=\"text\"\n            value={link}\n            onChange={(e) => setLink(e.target.value)}\n          />\n          <button\n            type=\"submit\"\n            name=\"action\"\n            onClick={addLink}\n          >\n            Добавить ссылку\n          </button>\n        </div>\n\n        <div>\n          <div>Заголовок</div>\n          <input\n            id=\"post\"\n            type=\"text\"\n            value={title}\n            onChange={(e) => setPost({...post, title: e.target.value})}\n          />\n          <label\n            htmlFor=\"post\"\n          >\n            Введите заголовок.\n            Осталось знаков {MAX_TITLE_LENGTH - title.length}\n          </label>\n        </div>\n\n        <div>\n          <div>Технология</div>\n          <input\n            id=\"technology\"\n            type=\"text\"\n            value={technology}\n            onChange={(e) => setPost({...post, technology: e.target.value})}\n          />\n          <label\n            htmlFor=\"technology\"\n          >\n            Введите используемые технологии\n          </label>\n        </div>\n\n        <div>\n          <div>Описание поста</div>\n          <textarea\n            className={styles.postDescriptionTextarea}\n            cols={60}\n            rows={2}\n            maxLength={120}\n            id=\"description\"\n            placeholder=\"Введите текст..\"\n            value={description}\n            onChange={(e) => setPost({...post, description: e.target.value})}\n          />\n          <label\n            htmlFor=\"description\"\n          >\n            Введите описание.\n            Осталось знаков {MAX_DESC_LENGTH - description.length}\n          </label>\n        </div>\n\n        <div>\n          <div>Текст поста</div>\n          <MarkdownBtnsPanel onClick={onMarkdownBtnClick}/>\n          <label htmlFor=\"postContent\">Введите сообщение поста</label>\n          <textarea\n            className={styles.postContentTextarea}\n            placeholder=\"Введите текст..\"\n            id=\"postContent\"\n            value={content}\n            ref={textAreaRef}\n            onChange={onTextareaChange}\n            onClick={onTextareaClick}\n          />\n        </div>\n\n        <div >\n          <div>Файл</div>\n          <input\n            type=\"file\"\n            onChange={onFileChosen}\n            id=\"file\"\n          />\n          <div>\n            {\n              image && <img\n                src={image}\n                style={{maxHeight: '250px'}}\n                alt=\"background\"\n              />\n            }\n          </div>\n        </div>\n\n        {id ? (\n          <button onClick={updateCurrentPost}>\n            Обновить пост\n          </button>\n        ) : (\n          <button onClick={createPost}>\n            Добавить пост\n          </button>)\n        }\n      </form>\n    </div>\n  );\n};\n\nCreatePage.propTypes = {\n  addPost: PropTypes.func,\n  updatePost: PropTypes.func,\n  currentPost: PropTypes.object,\n};\n\nconst mapStateToProps = (state) => ({\n  currentPost: state.postsStore.currentPost,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addPost: (token, post, afterSuccess) => {\n    dispatch(addPostAction(token, post, afterSuccess));\n  },\n  updatePost: (token, id, post, afterSuccess) => {\n    dispatch(updatePostAction(token, id, post, afterSuccess));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreatePage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst LinkCard = ({link}) => {\n  return (\n    <>\n      <h2>Ссылка</h2>\n\n      <p>Ваша ссылка:\n        <a\n          href={link.to}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {link.to}\n        </a>\n      </p>\n      <p>Откуда:\n        <a href={link.from}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {link.from}\n        </a>\n      </p>\n      <p>Количество кликов по ссылке: <strong>{link.clicks}</strong></p>\n      <p>Дата создания:\n        <strong>\n          {new Date(link.date).toLocaleDateString('ru-RU')}\n        </strong></p>\n    </>\n  );\n};\n\nLinkCard.propTypes = {\n  link: PropTypes.object,\n};\n\nexport default LinkCard;\n","import React, {useCallback, useContext, useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {useHttp} from '../hooks/http.hook';\nimport {AuthContext} from '../context/AuthContext';\nimport LinkCard from '../components/LinkCard/LinkCard';\n\nexport const DetailPage = () => {\n  const {token} = useContext(AuthContext);\n  const {request, loading} = useHttp();\n  const [link, setLink] = useState(null);\n  const linkId = useParams().id;\n\n  const getLink = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/link/${linkId}`, 'GET', null, {\n        Authorization: `Bearer ${token}`,\n      });\n      setLink(fetched);\n    } catch (e) {}\n  }, [token, linkId, request]);\n\n  useEffect(()=> {\n    getLink();\n  }, [getLink]);\n\n  return (\n    <>\n      {!loading && link && <LinkCard link={link}/>}\n    </>\n  );\n};\n","import React, {useContext, useEffect, useState} from 'react';\nimport {useHttp} from '../hooks/http.hook';\nimport {useMessage} from '../hooks/message.hook';\nimport {AuthContext} from '../context/AuthContext';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport const AuthPage = () => {\n  const auth = useContext(AuthContext);\n  const message = useMessage();\n  const {loading, request, error, clearError} = useHttp();\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    message(error);\n    clearError();\n  }, [error, message, clearError]);\n\n  const changeHandler = (event) => {\n    setForm({...form, [event.target.name]: event.target.value});\n  };\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/auth/register', 'POST', {...form});\n      message(data.message);\n    } catch (e) {\n\n    }\n  };\n\n  const loginHandler = async () => {\n    try {\n      const data = await request('/api/auth/login', 'POST', {...form});\n      auth.login(data.token, data.userId);\n    } catch (e) {\n\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Войти\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={form.email}\n            onChange={changeHandler}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={form.password}\n            onChange={changeHandler}\n          />\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Запомнить меня\"\n          />\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={loginHandler}\n            disabled={loading}\n          >\n            Войти\n          </Button>\n          {/* <Grid container>*/}\n          {/*  <Grid item xs>*/}\n          {/*    <Link href=\"#\" variant=\"body2\">*/}\n          {/*      Forgot password?*/}\n          {/*    </Link>*/}\n          {/*  </Grid>*/}\n          {/*  <Grid item>*/}\n          {/*    <Link href=\"#\" variant=\"body2\">*/}\n          {/*      {'Don\\'t have an account? Sign Up'}*/}\n          {/*    </Link>*/}\n          {/*  </Grid>*/}\n          {/* </Grid>*/}\n        </form>\n      </div>\n      {/* <button*/}\n      {/* onClick={registerHandler}*/}\n      {/* disabled={loading}*/}\n      {/* >*/}\n      {/* Зарегистрироваться*/}\n      {/* </button>*/}\n    </Container>\n  );\n};\n","import {useCallback} from 'react';\n\nexport const useMessage = () => {\n  return useCallback((text) => {\n    if (window.M && text) {\n      window.M.toast({html: text});\n    }\n  }, []);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nconst LinksList = ({links}) => {\n  if (!links.length) {\n    return <p className=\"center\">Ссылок пока нет</p>;\n  }\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>№</th>\n          <th>Оригинал</th>\n          <th>Сокращенная</th>\n          <th>Открыть</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {links.map((link, i) => (\n          <tr key={link._id}>\n            <td>{i + 1}</td>\n            <td>{link.from}</td>\n            <td>{link.to}</td>\n            <td>\n              <Link to={`/detail/${link._id}`}>Открыть</Link>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nLinksList.propTypes = {\n  links: PropTypes.array,\n};\n\nexport default LinksList;\n","import React, {useCallback, useContext, useEffect, useState} from 'react';\nimport {useHttp} from '../hooks/http.hook';\nimport {AuthContext} from '../context/AuthContext';\nimport LinksList from '../components/LinksList/LinksList';\n\nexport const LinksPage = () => {\n  const [links, setLinks] = useState([]);\n  const {loading, request} = useHttp();\n  const {token} = useContext(AuthContext);\n\n  const fetchLinks = useCallback( async () => {\n    try {\n      const fetched = await request('/api/link', 'GET', null, {\n        Authorization: `Bearer ${token}`,\n      });\n      setLinks(fetched);\n    } catch (e) {\n\n    }\n  }, [token, request]);\n\n  useEffect(()=> {\n    fetchLinks();\n  }, [fetchLinks]);\n\n  return (\n    <>\n      { !loading && <LinksList links={links} />}\n    </>\n  );\n};\n","import React from 'react';\n\nexport const AboutPage = () => {\n  return (\n    <div>\n      <h1>\n        Информация о блоге!\n      </h1>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const AccountPage = () => {\n  return (\n    <div>\n      <h1>\n        AccountPage!\n      </h1>\n    </div>\n  );\n};\n","import React from 'react';\nimport {Prism as SyntaxHighlighter} from 'react-syntax-highlighter';\nimport coy from 'react-syntax-highlighter/dist/esm/styles/prism/coy';\n\nexport const CodeBlock = ({language, value}) => {\n  return (\n    <SyntaxHighlighter language={language} style={coy}>\n      {value}\n    </SyntaxHighlighter>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PostsAsideBarItem.module.css';\n\nconst PostsAsideBarItem = ({post, openPost}) => {\n  return (\n    <div\n      className={styles.postItem}\n      onClick={(e) => openPost(e, post._id)}\n    >\n      <h3 className={styles.postItemTitle}>{post.title}</h3>\n      <div className={styles.postItemData}>\n        {new Date(post.date).toLocaleDateString('ru-RU')}\n      </div>\n    </div>\n  );\n};\n\nPostsAsideBarItem.propTypes = {\n  post: PropTypes.object,\n  openPost: PropTypes.func,\n};\n\n\nexport default PostsAsideBarItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport styles from './PostsAsideBar.module.css';\nimport PostsAsideBarItem from '../PostsAsideBarItem/PostsAsideBarItem';\nimport Preloader from '../Preloader/Preloader';\n\nconst PostsAsideBar = ({posts, openPost, loading}) => {\n  return (\n    <div className={styles.postsContainer}>\n      <div className={styles.postsContainerTitle}>Список других постов</div>\n      {loading ?\n        <Preloader /> : (\n          <>\n            {posts.map((post) => (\n              <PostsAsideBarItem\n                post={post}\n                key={post._id}\n                openPost={openPost}\n              />\n            ))}\n          </>\n        )}\n    </div>\n  );\n};\n\nPostsAsideBar.propTypes = {\n  posts: PropTypes.array,\n  openPost: PropTypes.func,\n  loading: PropTypes.bool,\n};\n\nconst mapDispatchToProps = (state) => ({\n  loading: state.app.loadingPosts,\n});\n\nexport default connect(mapDispatchToProps)(PostsAsideBar);\n","import React, {useContext, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {\n  fetchPost as fetchPostAction,\n  fetchPosts as fetchPostsAction,\n  deletePost as deletePostAction,\n} from '../../redux/actions';\nimport styles from './PostPage.module.css';\nimport ReactMarkdown from 'react-markdown';\nimport {CodeBlock} from '../../utils/markdown';\nimport {AuthContext} from '../../context/AuthContext';\nimport PostsAsideBar from '../../components/PostsAsideBar/PostsAsideBar';\nimport Preloader from '../../components/Preloader/Preloader';\n\nconst PostPage = ({\n  fetchPost,\n  fetchPosts,\n  deletePost,\n  posts,\n  currentPost,\n  loading,\n}) => {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const {token} = auth;\n  const {id} = useParams();\n\n  useEffect(() => {\n    if (!posts.length) {\n      fetchPosts();\n    }\n    if (currentPost._id !== id) {\n      fetchPost(id);\n    }\n  }, []);\n\n  useEffect(() => {\n    history.push(`/post/${currentPost._id}`);\n  }, [currentPost, history]);\n\n  const openPost = (e, id) => {\n    e.preventDefault();\n    history.push(`/post/${id}`);\n    fetchPost(id);\n  };\n\n  const updatePost = (id) => {\n    history.push(`/post/update/${id}`);\n  };\n\n  const removePost = (id) => {\n    if (window.confirm('Удалить пост?')) {\n      deletePost(token, id);\n    }\n  };\n\n  return (\n    <div className={styles.postPage}>\n      <PostsAsideBar posts={posts} openPost={openPost} />\n      <div className={styles.currentPostContainer}>\n        {\n          loading ?\n            <Preloader /> :\n            (\n              <>\n                <h1 className={styles.currentPostTitle}>{currentPost.title}</h1>\n                <div className={styles.currentPostData}>\n                  Дата создания: {\n                    new Date(currentPost.date).toLocaleDateString('ru-RU')\n                  }\n                  {\n                    auth.isAuthenticated && (\n                      <>\n                        <button onClick={() => updatePost(currentPost._id)}>\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => removePost(currentPost._id)}\n                        >\n                          Delete\n                        </button>\n                      </>\n                    )\n                  }\n                </div>\n              </>\n            )\n        }\n        <ReactMarkdown\n          source={currentPost.content}\n          renderers={{code: CodeBlock}}\n        />\n      </div>\n    </div>\n  );\n};\n\nPostPage.propTypes = {\n  fetchPost: PropTypes.func,\n  fetchPosts: PropTypes.func,\n  deletePost: PropTypes.func,\n  posts: PropTypes.array,\n  currentPost: PropTypes.object,\n  loading: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.postsStore.posts,\n  currentPost: state.postsStore.currentPost,\n  loading: state.app.loadingPost,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchPost: (id) => dispatch(fetchPostAction(id)),\n  fetchPosts: () => dispatch(fetchPostsAction()),\n  deletePost: (token, id) => dispatch(deletePostAction(token, id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostPage);\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport {NavLink, useHistory} from 'react-router-dom';\nimport {AuthContext} from '../../context/AuthContext';\nimport IconButton from '../IconButton/IconButton';\nimport styles from './Navbar.module.css';\n\n\nconst Navbar = () => {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n\n  const getSections = () => {\n    return auth.isAuthenticated ?\n      [\n        {title: 'Главная', url: '/main'},\n        // {title: 'О JavaScript', url: '/js'},\n        // {title: 'О React', url: '/react'},\n        {title: 'Полезное', url: '/useful'},\n        {title: 'Создать пост', url: '/create'},\n        {title: 'Ссылки', url: '/links'},\n        {title: 'О блоге', url: '/about'},\n        {title: 'Аккаунт', url: '/account'},\n      ] : [\n        {title: 'Главная', url: '/main'},\n        // {title: 'О JavaScript', url: '/js'},\n        // {title: 'О React', url: '/react'},\n        {title: 'Полезное', url: '/useful'},\n        {title: 'Ссылки', url: '/links'},\n        {title: 'О блоге', url: '/about'},\n      ];\n  };\n\n  const iconSprite = require('../assets/navbarIcons.svg');\n\n  const logoutHandler = () => {\n    auth.logout();\n    history.push('/');\n  };\n\n  const loginHandler = () => {\n    auth.login();\n    history.push('/auth');\n  };\n\n  const onHomeBtnClick = () => {\n    history.push('/');\n  };\n\n  return (\n    <>\n      <div className={styles.toolbar}>\n        <h2 className={styles.toolbarTitle}>\n          Блог совершеннолетнего программиста\n          <code className={styles.toolbarCode}>\n            import Me from &#34;real-life&#34;;\n          </code>\n        </h2>\n        <IconButton\n          onClick={onHomeBtnClick}\n          xlinkHref={`${iconSprite}#home`}\n          width=\"24px\"\n          height=\"24px\"\n        />\n        <IconButton\n          xlinkHref={`${iconSprite}#search`}\n          width=\"24px\"\n          height=\"24px\"\n        />\n        {auth.isAuthenticated ?\n          <button onClick={logoutHandler}>ВЫЙТИ</button> :\n          <button onClick={loginHandler}>ВОЙТИ</button>\n        }\n      </div>\n\n      <nav className={styles.navBar}>\n        {getSections().map((section) => (\n          <NavLink\n            key={section.title}\n            to={section.url}\n            className={styles.navBarItem}\n          >\n            {section.title}\n          </NavLink>\n        ))}\n      </nav>\n    </>\n  );\n};\n\nNavbar.propTypes = {\n  sections: PropTypes.array,\n  title: PropTypes.string,\n};\n\nexport default Navbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Copyright.module.css';\n\nconst Copyright = ({href, date}) => {\n  return (\n    <div className={styles.copyright}>\n      {'Copyright © '}\n      <a href={`${href}`}>\n        http://mysite.org\n      </a>\n      {date}\n    </div>\n  );\n};\n\nCopyright.propTypes = {\n  href: PropTypes.string,\n  date: PropTypes.string,\n};\n\nexport default Copyright;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '../IconButton/IconButton';\nimport Copyright from '../Copyright/Copyright';\nimport styles from './Footer.module.css';\n\nconst Footer = () => {\n  const socialLinksSprite = require('../assets/socialLinksSprite.svg');\n\n  return (\n    <footer className={styles.footer}>\n      <div className={styles.main}>Forward-only</div>\n      <p className={styles.description}>\n        Блог совершеннолетнего программиста\n      </p>\n      <div className={styles.socialLinks}>\n        <IconButton\n          href=\"https://vk.com/id2329393\"\n          xlinkHref={`${socialLinksSprite}#icon-vk`}\n        />\n        <IconButton\n          href=\"https://github.com/SergBlack\"\n          xlinkHref={`${socialLinksSprite}#icon-github`}\n        />\n        <IconButton\n          href=\"https://linkedin.com/in/sergey-osipchuk\"\n          xlinkHref={`${socialLinksSprite}#icon-linkedin`}\n        />\n      </div>\n      <Copyright\n        href=\"\"\n        date={` ${new Date().getFullYear()}`}\n      />\n    </footer>\n  );\n};\n\nFooter.propTypes = {\n  description: PropTypes.string,\n  title: PropTypes.string,\n};\n\nexport default Footer;\n","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport {useRoutes} from './routes';\nimport {useAuth} from './hooks/auth.hook';\nimport {AuthContext} from './context/AuthContext';\nimport Navbar from './components/Navbar/Navbar';\nimport Footer from './components/Footer/Footer';\nimport Preloader from './components/Preloader/Preloader';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport {makeStyles} from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  grid: {\n    height: '500px',\n  },\n}));\n\nconst App = () => {\n  const {token, login, logout, userId, ready} = useAuth();\n  const isAuthenticated = !!token;\n  const routes = useRoutes(isAuthenticated);\n  const classes = useStyles();\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, isAuthenticated,\n    }}>\n      <BrowserRouter>\n        <Container maxWidth=\"lg\">\n          <CssBaseline>\n            <Navbar />\n            {ready ?\n              routes :\n              <Grid\n                container\n                direction=\"row\"\n                justify=\"center\"\n                alignItems=\"center\"\n                className={classes.grid}\n              >\n                <Preloader />\n              </Grid>\n            }\n            <Footer />\n          </CssBaseline>\n        </Container>\n      </BrowserRouter>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import {useState, useCallback, useEffect} from 'react';\n\nconst storageName = 'userData';\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null);\n  const [ready, setReady] = useState(false);\n  const [userId, setUserId] = useState(null);\n\n  const login = useCallback((jwtToken, id) => {\n    setToken(jwtToken);\n    setUserId(id);\n\n    localStorage.setItem(storageName, JSON.stringify({\n      userId: id, token: jwtToken,\n    }));\n  }, []);\n\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    localStorage.removeItem(storageName);\n  }, []);\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem(storageName));\n\n    if (data && data.token) {\n      login(data.token, data.userId);\n    }\n    setReady(true);\n  }, [login]);\n\n  return {login, logout, token, userId, ready};\n};\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport MainPage from './pages/MainPage';\nimport CreatePage from './pages/CreatePage/CreatePage';\nimport {DetailPage} from './pages/DetailPage';\nimport {AuthPage} from './pages/AuthPage';\nimport {LinksPage} from './pages/LinksPage';\nimport {AboutPage} from './pages/AboutPage';\nimport {AccountPage} from './pages/AccountPage';\nimport PostPage from './pages/PostPage/PostPage';\n\nexport const useRoutes = (isAuthenticated) => {\n  if (isAuthenticated) {\n    return (\n      <Switch>\n        <Route path=\"/\" exact>\n          <MainPage/>\n        </Route>\n        <Route path=\"/create\">\n          <CreatePage/>\n        </Route>\n        <Route path=\"/post/update/:id\" exact>\n          <CreatePage/>\n        </Route>\n        <Route path=\"/detail/:id\" exact>\n          <DetailPage/>\n        </Route>\n        <Route path=\"/links\" exact>\n          <LinksPage/>\n        </Route>\n        <Route path=\"/about\" exact>\n          <AboutPage/>\n        </Route>\n        <Route path=\"/account\" exact>\n          <AccountPage/>\n        </Route>\n        <Route path=\"/post/:id\" exact>\n          <PostPage/>\n        </Route>\n        <Redirect to=\"/\"/>\n      </Switch>\n    );\n  }\n  return (\n    <Switch>\n      <Route path=\"/auth\" exact>\n        <AuthPage/>\n      </Route>\n      {/* <Redirect to=\"/\"/>*/}\n      <Route path=\"/\" exact>\n        <MainPage/>\n      </Route>\n      <Route path=\"/links\" exact>\n        <LinksPage/>\n      </Route>\n      <Route path=\"/about\" exact>\n        <AboutPage/>\n      </Route>\n      <Route path=\"/post/:id\" exact>\n        <PostPage/>\n      </Route>\n      <Redirect to=\"/\"/>\n    </Switch>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {acts} from './types';\n\nconst initialState = {\n  posts: [],\n  currentPost: {},\n};\n\nexport const postsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case acts.FETCH_POSTS: {\n      return {\n        ...state,\n        posts: action.payload.reverse(),\n      };\n    }\n    case acts.FETCH_POST: {\n      return {\n        ...state,\n        currentPost: action.payload,\n      };\n    }\n    case acts.ADD_POST: {\n      const {post} = action.payload;\n      return {\n        ...state,\n        posts: [post, ...state.posts],\n        currentPost: post,\n      };\n    }\n    case acts.DELETE_POST: {\n      const {id} = action.payload;\n      const filteredPost = state.posts.filter((post) => post._id !== id);\n      return {\n        ...state,\n        posts: filteredPost,\n        currentPost: filteredPost[0],\n      };\n    }\n    case acts.UPDATE_POST: {\n      const updatedPost = action.payload.post;\n      const updatedPosts = state.posts.map((post) => {\n        if (post._id === updatedPost._id) {\n          return updatedPost;\n        }\n        return post;\n      });\n      return {\n        ...state,\n        posts: updatedPosts,\n        currentPost: updatedPost,\n      };\n    }\n    default: return state;\n  }\n};\n","import {acts} from './types';\n\nconst initialState = {\n  loadingPosts: false,\n  loadingPost: false,\n};\n\nexport const appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case acts.START_LOADING_POSTS: {\n      return {\n        ...state,\n        loadingPosts: true,\n      };\n    }\n    case acts.END_LOADING_POSTS: {\n      return {\n        ...state,\n        loadingPosts: false,\n      };\n    }\n    case acts.START_LOADING_POST: {\n      return {\n        ...state,\n        loadingPost: true,\n      };\n    }\n    case acts.END_LOADING_POST: {\n      return {\n        ...state,\n        loadingPost: false,\n      };\n    }\n    default: return state;\n  }\n};\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\nimport thunk from 'redux-thunk';\nimport {postsReducer} from './postsReducer';\nimport {appReducer} from './appReducer';\n\nconst rootReducer = combineReducers({\n  postsStore: postsReducer,\n  app: appReducer,\n});\n\nconst store = createStore(\n    rootReducer,\n    compose(\n        applyMiddleware(thunk),\n      window.__REDUX_DEVTOOLS_EXTENSION__ ?\n        window.__REDUX_DEVTOOLS_EXTENSION__() :\n        (f) => f,\n    ),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarAbout\":\"Sidebar_sidebarAbout__MppFo\",\"sidebarTitle\":\"Sidebar_sidebarTitle__1WhTH\",\"sidebarDescription\":\"Sidebar_sidebarDescription__1o4xs\",\"sidebarContacts\":\"Sidebar_sidebarContacts__2B8u6\",\"sidebarSocialLinks\":\"Sidebar_sidebarSocialLinks__tzo60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"Navbar_toolbar__1M85O\",\"toolbarTitle\":\"Navbar_toolbarTitle__22xXo\",\"toolbarCode\":\"Navbar_toolbarCode__l14lf\",\"navBar\":\"Navbar_navBar__3lbHs\",\"navBarItem\":\"Navbar_navBarItem__3G494\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"IconButton_link__3p5Rk\",\"linkBlue\":\"IconButton_linkBlue__VZ4mx\",\"svgContainer\":\"IconButton_svgContainer__CX6x8\",\"description\":\"IconButton_description__3rdn6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postPage\":\"PostPage_postPage__24_NF\",\"currentPostContainer\":\"PostPage_currentPostContainer__19mIW\",\"currentPostTitle\":\"PostPage_currentPostTitle__3QSnL\",\"currentPostData\":\"PostPage_currentPostData__Nf-2A\",\"currentPostContent\":\"PostPage_currentPostContent__1LX1j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1w0lV\",\"main\":\"Footer_main__2Qr7m\",\"description\":\"Footer_description__mCHsz\",\"socialLinks\":\"Footer_socialLinks__u3JPb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createFormContainer\":\"CreatePage_createFormContainer__1RA8j\",\"postDescriptionTextarea\":\"CreatePage_postDescriptionTextarea__152ar\",\"postContentTextarea\":\"CreatePage_postContentTextarea__2rVWC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postItem\":\"PostsAsideBarItem_postItem__1lX8E\",\"postItemTitle\":\"PostsAsideBarItem_postItemTitle__1bhbH\",\"postItemData\":\"PostsAsideBarItem_postItemData__3vBlP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsContainer\":\"PostsAsideBar_postsContainer__38g82\",\"postsContainerTitle\":\"PostsAsideBar_postsContainerTitle__13ZaW\"};"],"sourceRoot":""}